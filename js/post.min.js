function e(b){this.wiki=function(){this.encloseSelection("","",function(a){return f(b,a,!0)})};this.xhtml=function(){this.encloseSelection("","",function(a){return f(b,a,!1)})}}var g=/^\s*\(\(([^()|]+)(\|[^()]*)\)\)\s*$/,h=/^\s*<img (?:[^>]* )?src=["']([^"'>]+)["'](?: [^>]*)?>\s*$/;function k(b,a,c){a=a.match(c);return a?a[1]:(alert(b.selectImageError),null)}
function f(b,a,c){var d;d=c?k(b,a,g):k(b,a,h);if(!d)return a;b='<div class="dotsphere"></div><script src="'+(b.pluginUrl+"js/photo-sphere-viewer.min.js").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")+'">\x3c/script><script>dotsphere({panorama: '+JSON.stringify(d)+"})\x3c/script>";return c?"\n///html\n"+b+"\n///\n":b}
jsToolBar.prototype.elements.dotsphere=new function(){this.type="button";this.context="post";this.icon="index.php?pf=dotsphere/icon.png";this.fn=new e(this)};
